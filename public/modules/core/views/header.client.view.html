<nav id="header" class="navbar bg-white navbar-fixed-top" role="navigation">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand navbar-brand--logo" href="/#!/">
        <img
          src="modules/core/img/{{ headerLogo }}"
          class="navbar-brand--logo-img"
        />
      </a>
      <a ng-if="headerLogo2" class="navbar-brand navbar-brand--logo">
        <img
          src="modules/core/img/{{ headerLogo2 }}"
          class="navbar-brand--logo-img"
        />
      </a>
      <a ng-if="headerLogo3" class="navbar-brand navbar-brand--logo">
        <img
          src="modules/core/img/{{ headerLogo3 }}"
          class="navbar-brand--logo-img"
        />
      </a>

      <button
        type="button"
        class="navbar-btn btn btn-outline-danger text-uppercase text-danger"
        ng-click="fnOpenViewStatus()"
        ng-show="showViewStatus && viewStatusTitle && fnOpenViewStatus"
      >
        {{ viewStatusTitle }}
      </button>

      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#menu-buttons"
        aria-controls="menu-buttons"
        aria-expanded="false"
        aria-label="{{ 'Toggle navigation' | translate }}"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
    <div id="menu-buttons" aria-expanded="false" class="button-nav">
      <ul class="nav navbar-nav navbar-left">
        <li
          ng-class="['navbar--item', { 'active': (activeSection === 'CRA') }]"
        >
          <a ng-href="#!/community_risk" class="text-uppercase">
            {{ "COMMUNITY_RISK" | translate }}
          </a>
        </li>
        <li
          ng-class="['navbar--item', { 'active': (activeSection === 'IDB') }]"
        >
          <a ng-href="#!/impact_database" class="text-uppercase">
            {{ "IMPACT_DATABASE" | translate }}
          </a>
        </li>
        <li ng-class="['navbar--item', { 'active': (activeSection === 'PI') }]">
          <a ng-href="#!/priority_index" class="text-uppercase">
            {{ "PRIORITY_INDEX" | translate }}
          </a>
        </li>
        <li
          ng-class="['navbar--item', { 'active': (activeSection === 'ERA') }]"
          ng-show="showEpidemics"
        >
          <a ng-href="#!/epidemics" class="text-uppercase">
            {{ "EPIDEMICS" | translate }}
          </a>
        </li>
        <li
          ng-if="enableFbf"
          ng-class="['navbar--item', { 'active': (activeSection === 'FBF') }]"
        >
          <a ng-href="#!/fbf" class="text-uppercase">
            {{ "FBF" | translate }}
          </a>
        </li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown" ng-show="showCountrySelector">
          <a
            class="dropdown-toggle export-button text-uppercase"
            data-toggle="dropdown"
            href="#"
          >
            <span id="country-selection-span"></span>
            <i class="fa fa-angle-down export-btn-arrow"></i>
          </a>
          <ul class="dropdown-menu submenu-items" id="country-items"></ul>
        </li>
        <li class="dropdown navbar--item" ng-show="showShareExport">
          <a
            href="#"
            class="dropdown-toggle text-uppercase"
            data-toggle="dropdown"
            role="button"
            aria-haspopup="true"
            aria-expanded="false"
          >
            {{ "EXPORT" | translate }}
            <span class="caret"></span>
          </a>
          <ul class="dropdown-menu">
            <li ng-show="fnShareCountryUrl">
              <a
                href=""
                role="button"
                aria-haspopup="true"
                ng-click="fnShareCountryUrl()"
              >
                {{ "share_country_url" | translate }}
              </a>
            </li>
            <li ng-show="fnShareUrl">
              <a
                href=""
                role="button"
                aria-haspopup="true"
                ng-click="fnShareUrl()"
              >
                {{ "share_url" | translate }}
              </a>
            </li>
            <li
              role="separator"
              class="divider"
              ng-show="fnExportCsv || fnExportGeojson || fnExportPdf"
            ></li>
            <li ng-show="fnExportCsv">
              <a
                href=""
                role="button"
                aria-haspopup="true"
                ng-click="fnExportCsv()"
              >
                {{ "export_csv" | translate }}
              </a>
            </li>
            <li ng-show="fnExportGeojson">
              <a
                href=""
                role="button"
                aria-haspopup="true"
                ng-click="fnExportGeojson()"
              >
                {{ "export_geojson" | translate }}
              </a>
            </li>
            <li ng-show="fnExportPdf">
              <a
                href=""
                role="button"
                aria-haspopup="true"
                ng-click="fnExportPdf()"
              >
                {{ "export_pdf" | translate }}
              </a>
            </li>
            <li
              role="separator"
              class="divider"
              ng-show="fnSignupMailing || fnJoinWhatsapp"
            ></li>
            <li ng-show="fnSignupMailing">
              <a
                href=""
                role="button"
                aria-haspopup="true"
                ng-click="fnSignupMailing()"
              >
                {{ "signup_mailing" | translate }}
              </a>
            </li>
            <li ng-show="fnJoinWhatsapp" class="li-disabled" id="join-whatsapp">
              <a
                href=""
                role="button"
                aria-haspopup="true"
                ng-click="fnJoinWhatsapp()"
              >
                {{ "join_whatsapp" | translate }}
              </a>
            </li>
          </ul>
        </li>
        <li class="dropdown navbar--item" ng-show="showHelp">
          <a
            href="#"
            class="dropdown-toggle text-uppercase"
            data-toggle="dropdown"
            role="button"
            aria-haspopup="true"
            aria-expanded="false"
          >
            {{ "HOW_IT_WORKS" | translate }}
            <span class="caret"></span>
          </a>
          <ul class="dropdown-menu">
            <li ng-show="fnAboutCra">
              <a ng-href="#!/#about" ng-click="fnAboutCra()">
                {{ "about_CRA" | translate }}
              </a>
            </li>
            <li ng-show="fnAboutTutorial">
              <a ng-href="#!/#walkthrough_{{ viewType }}">
                {{ "about_tutorial" | translate }}
              </a>
            </li>
            <li ng-show="fnAboutFbf">
              <a ng-href="#!/#about">
                {{ "About FBF" | translate }}
              </a>
            </li>
            <li ng-show="fnAboutTutorialFbf">
              <a ng-href="#!/#walkthrough_{{ viewType }}">
                {{ "about_tutorial" | translate }}
              </a>
            </li>
            <li
              role="separator"
              class="divider"
              ng-show="fnAboutLinkEap || fnAboutLinkCra"
            ></li>
            <li ng-show="fnAboutGithub">
              <a
                ng-href="https://github.com/rodekruis/CommunityRisk"
                target="_blank"
              >
                {{ "about_github" | translate }}
              </a>
            </li>
            <li ng-show="fnAboutLinkEap">
              <a
                ng-href="https://docs.google.com/document/d/18SG6UklAYsY5EkVAINnZUH6D_tvry3Jh479mpVTehRU/edit?ts=5da1dba5#heading=h.gjdgxs"
                target="_blank"
              >
                {{ "Link to EAP" | translate }}
              </a>
            </li>
            <li ng-show="fnAboutLinkCra">
              <a
                ng-href="http://dashboard.510.global/#!/community_risk?country=ZMB"
                target="_blank"
              >
                {{ "Link to CRA" | translate }}
              </a>
            </li>
          </ul>
        </li>

        <ul
          class="nav navbar-top-links navbar-right"
          style="display:none; margin-top: 0"
          id="language-selector"
          ng-show="showLanguages"
        >
          <li class="dropdown">
            <a
              class="dropdown-toggle export-button text-uppercase"
              data-toggle="dropdown"
              href="#"
            >
              <img src="modules/core/img/LanguageIcon.svg" style="width:20px" />
              <i class="fa fa-angle-down export-btn-arrow"></i>
            </a>
            <ul class="dropdown-menu export-items">
              <li>
                <a
                  class="dropdown-toggle export-button"
                  ng-click="fnChangeLanguage('en')"
                  target="_blank"
                  >English</a
                >
              </li>
              <li class="divider"></li>
              <li>
                <a
                  id="language-selector-es"
                  class="dropdown-toggle export-button"
                  ng-click="fnChangeLanguage('es')"
                  target="_blank"
                  >Español</a
                >
              </li>
              <li>
                <a
                  id="language-selector-fr"
                  class="dropdown-toggle export-button"
                  ng-click="fnChangeLanguage('fr')"
                  target="_blank"
                  >Français</a
                >
              </li>
            </ul>
          </li>
        </ul>
        <li class="navbar--item" ng-if="showLogin" ng-show="showLogin">
          <a ng-href="#!/signin" ng-if="!isLoggedIn" class="text-uppercase">
            {{ "SIGN_IN" | translate }}
          </a>
          <a ng-href="/auth/signout" ng-if="isLoggedIn" class="text-uppercase">
            {{ "SIGN_OUT" | translate }}
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>
